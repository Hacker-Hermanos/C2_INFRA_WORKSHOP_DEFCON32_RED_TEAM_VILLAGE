---
# Archivo de valores predeterminados para el Rol Ansible de redirector
# Este archivo contiene la configuración básica para configurar un servidor redirector

vhosts_dictionary: [
    {
    # Configuración del primer nombre de host virtual
    # Un host virtual permite manejar múltiples dominios en un solo servidor
        
        # Dominio principal que manejará el redirector
        redirector_domain: '<REDIRECTOR_DOMAIN.TLD>',
        
        # Dominio señuelo que se mostrará para enmascarar el verdadero propósito
        decoy_domain: '<DECOY_DOMAIN.TLD>',
        
        # Puerto para tráfico HTTP no cifrado
        http_port: <HTTP_PORT>,
        
        # Puerto para tráfico HTTPS cifrado
        https_port: <HTTPS_PORT>,
        
        # Firma del servidor que se mostrará en las respuestas HTTP
        server_signature: "<SERVER_SIGNATURE>",
        
        # Lista de servidores backend del equipo (TeamServers)
        backend_teamservers: [
            {
                # Servidor de producción
                name: '<Prod_C2_TeamServer_TS0>',
                vpn_ip: '<PROD_C2_VPN_IP>'
            },
            {
                # Servidor de desarrollo
                name: '<Dev_C2_TeamServer_TS1>',
                vpn_ip: '<DEV_C2_VPN_IP>'
            }
        ],
        
        # Cabeceras HTTP requeridas para la autenticación
        required_http_header: [
            '<REQUIRED_HTTP_HEADER_1>',
            '<REQUIRED_HTTP_HEADER_2>',
            # '<ADDITIONAL_HEADER>' # Agregar cabeceras adicionales según sea necesario
        ],
        
        # Definiciones de rutas URI para el manejo de diferentes endpoints
        uri_path_definitions: [
            {
                name: '<URI_PATH_NAME_1>',
                path: '<URI_PATH_1>'
            },
            {
                name: '<URI_PATH_NAME_2>',
                path: '<URI_PATH_2>'
            }
            # Agregar más definiciones de rutas URI según sea necesario
        ],
        
        # Reglas de reescritura para redirigir el tráfico a diferentes backend servers
        rewrite_rule_filters: [
            {
                # Filtro para el servidor de producción
                rewritefilter: '<REWRITE_FILTER_1>',
                backend_forward_port: '<BACKEND_PORT_1>',
                backend_teamserver: '${PROD_C2_VPN_IP}'
            },
            {
                # Filtro para el servidor de desarrollo
                rewritefilter: '<REWRITE_FILTER_2>',
                backend_forward_port: '<BACKEND_PORT_2>',
                backend_teamserver: '${DEV_C2_VPN_IP}'
            }
            # Agregar más filtros según sea necesario
        ]
    }
]
