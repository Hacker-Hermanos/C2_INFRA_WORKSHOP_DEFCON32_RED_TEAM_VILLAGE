---
# Archivo de variables para el Rol de Ansible 'redirector'
# Este archivo define la configuración principal para un servidor redirector
# que maneja el tráfico entre dominios y servidores backend
# Este archivo vive en Ansible_Roles/redirector/vars/main.yml

vhosts_dictionary: [
    {
    # Configuración del primer hostname (servidor virtual)
    # Esta sección define cómo se comportará el redirector para un dominio específico
        # Dominio principal del redirector (ejemplo: ejemplo.com)
        # Este es el dominio que los usuarios legítimos utilizarán para acceder al servicio.
        # Asegúrate de que este dominio esté correctamente configurado en DNS.
        redirector_domain: 'test2.robertepimentel.com',
        # Dominio señuelo que se mostrará a los visitantes no autorizados
        # Este dominio se utiliza para engañar a los usuarios no autorizados,
        # redirigiéndolos a un sitio diferente. Asegúrate de que este dominio no revele información sensible.
        decoy_domain: 'www.hackerhermanos.com',
        # Puerto para tráfico HTTP no cifrado
        # El tráfico en este puerto no está cifrado, lo que significa que es susceptible a intercepciones.
        # Considera redirigir todo el tráfico HTTP a HTTPS para mayor seguridad.
        http_port: 80,
        # Puerto para tráfico HTTPS cifrado
        # HTTPS cifra el tráfico, protegiendo la información sensible durante la transmisión.
        # Asegúrate de tener un certificado SSL válido para este puerto.
        https_port: 443,
        # Firma del servidor que se mostrará en las respuestas HTTP
        # La firma del servidor puede revelar información sobre el software y la versión que estás usando.
        # Considera ocultar o modificar esta firma para evitar que los atacantes obtengan información útil.
        server_signature: "Microsoft-IIS/10.0",
        # Lista de servidores backend (TeamServers) que recibirán el tráfico redirigido
        # Estos son los servidores que realmente procesarán las solicitudes después de ser redirigidas.
        # Asegúrate de que estos servidores estén protegidos y que solo acepten tráfico del redirector.
        backend_teamservers: [
            {
                # Servidor de producción
                # Este es el servidor principal que maneja el tráfico en vivo.
                # Asegúrate de que esté bien protegido y monitoreado.
                name: 'TeamServer_TS0',
                vpn_ip: '100.119.62.116'
            },
        ],  # Add a comma here to separate the list items
        # Cabeceras HTTP requeridas para autenticar las peticiones legítimas
        # Estas cabeceras se utilizan para verificar que las solicitudes provienen de clientes autorizados.
        # Asegúrate de que estas cabeceras sean difíciles de adivinar y que se mantengan en secreto.
        required_http_header: [
            'Hacker-Hermanos-Is-The-Best'
            # '<ADDITIONAL_HEADER>' # Añade cabeceras adicionales según sea necesario
        ],
        # Definiciones de rutas URI que el redirector procesará
        # Estas son las rutas específicas que el redirector manejará.
        # Asegúrate de que las rutas no expongan información sensible o funcionalidades no deseadas.
        uri_path_definitions: [
            {
                # Primera definición de ruta
                # Define una ruta específica que el redirector debe manejar.
                name: 'hackerhermanos',
                path: 'hackerhermanos'
            }
            # Añade más definiciones de rutas URI según sea necesario
        ],
        # Reglas de reescritura para dirigir el tráfico a los servidores backend
        # Estas reglas determinan cómo se redirige el tráfico a los servidores backend.
        # Asegúrate de que las reglas sean precisas para evitar redirecciones incorrectas.
        rewrite_rule_filters: [
            {
                # Regla para el servidor de producción
                # Esta regla redirige el tráfico al servidor de producción.
                # Asegúrate de que el puerto y la IP sean correctos.
                rewritefilter: 'hackerhermanos',
                backend_forward_port: '4443',
                backend_teamserver: 'TeamServer_TS0'
            }
            # Añade más filtros según sea necesario
        ]
    }
]
